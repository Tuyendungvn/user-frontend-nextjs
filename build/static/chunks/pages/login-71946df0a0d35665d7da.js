_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[40],{"08SE":function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t("A8du")}])},A8du:function(e,n,t){"use strict";t.r(n),t.d(n,"__N_SSG",(function(){return F}));var r=t("nKUr"),i=t("q1tI"),o=t("cpVT"),a=t("vJKn"),c=t.n(a),s=t("rg98"),u=t("xm5f"),p=t("KYPV"),d=t("UGp+"),l=t("/MKj"),b=t("Ll6x"),m=t("3izT"),f=t("Qg44"),g=t("3yXT"),O=t("4mzW"),h=t("Aw+l"),j=t("2rfL"),v=t("vOnD"),y=t("v1+Z"),x=t("O6Eg"),w=t("P4iE"),_=v.b.div.withConfig({displayName:"styles__LoginContainer",componentId:"sc-16ukb92-0"})(["",""],{display:"flex",flexDirection:"column",justifyContent:"center"}),N=(v.b.div.withConfig({displayName:"styles__LoginForm",componentId:"sc-16ukb92-1"})(["",""],{}),v.b.h1.withConfig({displayName:"styles__Title",componentId:"sc-16ukb92-2"})(["",""],{fontSize:"24px",fontWeight:"700","--tw-text-opacity":"1",color:"rgba(13, 2, 41, var(--tw-text-opacity))",textAlign:"center",marginBottom:"20px","@media (min-width: 600px)":{fontSize:"26px",marginBottom:"40px"}})),A=v.b.div.withConfig({displayName:"styles__AuthenTication",componentId:"sc-16ukb92-3"})(["",""],{"--tw-text-opacity":"1",color:"rgba(13, 2, 41, var(--tw-text-opacity))",marginBottom:"20px","@media (min-width: 600px)":{marginBottom:"40px"}}),I=(Object(v.b)(y.a).withConfig({displayName:"styles__Icon",componentId:"sc-16ukb92-4"})(["",""],{width:"20px",height:"20px",marginRight:"10px","@media (min-width: 600px)":{width:"25px",height:"25px"}}),v.b.p.withConfig({displayName:"styles__SocialLogin",componentId:"sc-16ukb92-5"})(["",""],{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",paddingTop:"10px",paddingBottom:"10px",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgba(224, 224, 224, var(--tw-border-opacity))",marginBottom:"10px",userSelect:"none",cursor:"pointer",":hover":{"--tw-bg-opacity":"0.2",backgroundColor:"rgba(224, 224, 224, var(--tw-bg-opacity))"},"@media (min-width: 600px)":{fontSize:"16px"}}),v.b.p.withConfig({displayName:"styles__Or",componentId:"sc-16ukb92-6"})(["",""],{marginTop:"20px",marginBottom:"20px",fontSize:"14px",fontWeight:"500",textAlign:"center"}),Object(v.b)(p.a).withConfig({displayName:"styles__Form",componentId:"sc-16ukb92-7"})(["",""],{display:"grid",gap:"10px"})),C=v.b.div.withConfig({displayName:"styles__Text",componentId:"sc-16ukb92-8"})(["",""],{fontSize:"14px",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(13, 2, 41, var(--tw-text-opacity))",textAlign:"center",marginBottom:"10px"}),T=Object(v.b)(x.a).withConfig({displayName:"styles__Navigation",componentId:"sc-16ukb92-9"})(["",""],{display:"inline-block",fontWeight:"600","--tw-text-opacity":"1",color:"rgba(234, 78, 27, var(--tw-text-opacity))",cursor:"pointer"}),E=v.b.a.withConfig({displayName:"styles__EmployerLogin",componentId:"sc-16ukb92-10"})(["",""],{display:"inline-block",fontWeight:"600","--tw-text-opacity":"1",color:"rgba(234, 78, 27, var(--tw-text-opacity))",cursor:"pointer"}),k=Object(v.b)(w.a).withConfig({displayName:"styles__Button",componentId:"sc-16ukb92-11"})(["",""],{width:"100%",marginTop:"35px"}),P=t("q465"),S=t("CFwT"),U=t("4Ki6");function L(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function G(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?L(Object(t),!0).forEach((function(n){Object(o.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var D=function(){var e=Object(i.useState)("LOG_IN"),n=e[0],t=e[1],o=Object(i.useState)(""),a=o[0],v=o[1],y=Object(i.useState)(!1),x=y[0],w=y[1],L=Object(u.c)(["authen"]).t,D=Object(h.a)(),M=Object(l.b)(),R=Object(l.c)((function(e){return e.auth})).currentUser,B=Object(l.c)((function(e){return e.actions})).isLoading,F=Object(i.useState)([]),q=F[0],z=F[1],J=Object(j.a)().isAuth;Object(i.useEffect)((function(){R&&D(O.PATH.JOB_MANAGEMENT_PERSONAL_INFO)}),[R]),Object(i.useEffect)((function(){J?D(O.PATH.JOB_MANAGEMENT_PERSONAL_INFO):K()}),[]);var V={LOG_IN:d.b({username:d.c().required(L("login.require-phone-number")).matches(b.c,L("login.incorrect-phone-number")).max(10,L("login.incorrect-phone-number")),password:d.c().required(L("login.require-password"))}),ACTIVE_ACOUNT:d.b({otp:d.c().required()})},W=function(e){var n=null===q||void 0===q?void 0:q.map((function(e){return null===e||void 0===e?void 0:e.phoneNumber}));if(e.phoneNumber&&!(null===n||void 0===n?void 0:n.includes(e.phoneNumber)))return void M(Object(S.b)({type:"error",title:L("login.have-error"),message:L("login.non-exist-phone")}));var r={user:{username:e.username,password:e.password},permission:"CANDIDATE"};M(Object(g.c)(r)),eventManager.addListener("activeAccount",(function(){t("ACTIVE_ACOUNT");var n={phoneNumber:e.username};M(Object(g.j)(n))}))},H=function(){var e=Object(s.a)(c.a.mark((function e(n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(!0);try{r={input:{otpCode:null===n||void 0===n?void 0:n.otp,phoneNumber:null===n||void 0===n?void 0:n.username,permission:"CANDIDATE"}},M(Object(g.n)(r)),eventManager.addListener("verifyOtpSuccess",(function(){t("LOG_IN")}))}catch(i){v(i.message),console.error(i),w(!1)}case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),K=function(){var e=Object(s.a)(c.a.mark((function e(){var n,t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(P.b)();case 3:n=e.sent,t=(null===n||void 0===n?void 0:n.data)||{},r=t.getAllUserHasPermissions,z(null===r||void 0===r?void 0:r.results),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),z([]),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),X=function(e){var n={phoneNumber:null===e||void 0===e?void 0:e.phoneNumber};M(Object(g.j)(n))};return Object(r.jsxs)(_,{children:[Object(r.jsx)(N,{children:L("login.form-title")}),Object(r.jsx)(A,{children:Object(r.jsx)(p.b,{initialValues:{username:"",password:"",otp:""},validationSchema:V[n],onSubmit:function(e){"LOG_IN"===n&&W(e),"ACTIVE_ACOUNT"===n&&H(e)},children:function(e){return"ACTIVE_ACOUNT"!==n?Object(r.jsxs)(I,{children:["LOG_IN"===n&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(m.a,G(G({onKeyPress:f.b,label:L("login.phone-number"),type:"tel",placeholder:L("login.enter-phone-number")},e.getFieldProps("username")),e.getFieldMeta("username"))),Object(r.jsx)(m.a,G(G({label:L("login.password"),placeholder:L("login.enter-password"),type:"password"},e.getFieldProps("password")),e.getFieldMeta("password")))]}),Object(r.jsx)(k,{loading:B,primary:!0,type:"submit",children:L("LOG_IN"===n?"login.login":"login.verify")})]}):"ACTIVE_ACOUNT"===n?Object(r.jsx)(U.a,{onClose:function(){t("LOG_IN"),v("")},title:"Nh\u1eadp m\xe3 x\xe1c th\u1ef1c OTP",loading:x,formik:e,errorMessage:a,onResendOtp:X}):void 0}})}),Object(r.jsxs)(C,{children:[L("login.forgot-password"),Object(r.jsx)(T,{routeName:O.PATH.FORGOT_PASSWORD,children:L("login.reset")})]}),Object(r.jsxs)(C,{children:[L("login.dont-have-account"),Object(r.jsx)(T,{routeName:O.PATH.REGISTER,children:L("login.register-here")})]}),Object(r.jsxs)(C,{children:[L("login.are-you-recruiter"),Object(r.jsx)(E,{href:"https://employer.tuyendungvn.com/dang-nhap",target:"_blank",children:L("login.login-for-recruiters")})]})]})},M=t("tSya"),R=t("ab40"),B=t("rQmk"),F=!0;n.default=function(){var e=Object(u.c)(["authen"]).t;return Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(M.a,{title:e("login.page-title"),routeName:O.PATH.LOGIN}),Object(r.jsx)(R.a,{children:Object(r.jsx)(B.a,{children:Object(r.jsx)(D,{})})})]})}},q465:function(e,n,t){"use strict";t.d(n,"c",(function(){return m})),t.d(n,"b",(function(){return g})),t.d(n,"a",(function(){return h})),t.d(n,"d",(function(){return y}));var r=t("vJKn"),i=t.n(r),o=t("rg98"),a=t("jT3O"),c=t("UYTu"),s=t("p2dX");function u(){var e=Object(a.a)(["\n  query {\n    checkProfileUserExist\n  }\n"]);return u=function(){return e},e}function p(){var e=Object(a.a)(['\nquery\n  {\n    getAllUserHasPermissions(permissions:["ADMIN","EMPLOYER","CANDIDATE","MANAGER"], page: 0, size: 9999)\n    {\n      totalCount\n      results{\n        ',"\n     }\n     \n    }\n  }\n"]);return p=function(){return e},e}function d(){var e=Object(a.a)(["\n  query($id: String!) {\n    getUserById(id: $id) {\n      ","\n    }\n  }\n"]);return d=function(){return e},e}var l="\n    _id\n      code\n      title\n      history\n      identityCard\n      province {\n        _id\n        name\n        code\n      }\n      clientId\n      provider\n      birthday\n      gender\n      urlAvt {\n        default\n        small\n        medium\n      }\n      firstName\n      lastName\n      displayName\n      company {\n        name\n        code\n      }\n      username\n      email\n      phoneNumber\n      appliedRecruitment {\n        recruitment {\n          _id\n          slug\n          name\n          level {\n            name\n          }\n          location {\n            province {\n              name\n            }\n          }\n          createdAt\n        }\n        date\n      }\n      district {\n        name\n        code\n        _id\n      }\n      ward {\n        name\n        code\n        _id\n      }\n      street {\n        name\n        code\n        _id\n      }\n      point\n      postedJob\n      subscribedCompany {\n        name\n      }\n      seenCompany {\n        name\n      }\n      seenRecruitment {\n        name\n      }\n      savedRecruitment {\n        _id\n        slug\n        name\n        level {\n          name\n        }\n        location {\n          province {\n            name\n          }\n        }\n        createdAt\n      }\n      slug\n      keywords\n      language\n      enabled\n      career {\n        _id\n        name\n      }\n      isSeekingJob\n",b=Object(c.a)(d(),l),m=function(){var e=Object(o.a)(i.a.mark((function e(n){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)(b,n);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=Object(c.a)(p(),l),g=function(){var e=Object(o.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)(f,null);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=Object(c.a)(u()),h=function(){var e=Object(o.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)(O,null);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function j(){var e=Object(a.a)(["\n  mutation UpdateUserProfileMutation($updateUserInput: UpdateUserInput!) {\n    updateUserProfile(updateUserInput: $updateUserInput) {\n      _id\n      displayName\n    }\n  }\n"]);return j=function(){return e},e}var v=Object(c.a)(j()),y=function(){var e=Object(o.a)(i.a.mark((function e(n){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)(v,n);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}},[["08SE",0,2,6,1,3,4,5,7,8,12,13,15]]]);