_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[44],{"5Qn7":function(e,n,t){"use strict";t.r(n),t.d(n,"__N_SSG",(function(){return W}));var r=t("nKUr"),i=t("q1tI"),o=t("xm5f"),a=t("ab40"),c=t("vJKn"),s=t.n(c),u=t("rg98"),p=t("UGp+"),l=t("KYPV"),d=t("/MKj"),b=t("cpVT"),m=t("3izT"),g=t("oCM3"),f=t("Qg44"),v=t("4mzW"),h=t("vOnD"),j=t("v1+Z"),O=t("O6Eg"),y=t("P4iE"),x=h.b.div.withConfig({displayName:"styles__RegisterFormContainer",componentId:"sc-1kgbnvs-0"})(["",""],{}),w=(h.b.div.withConfig({displayName:"styles__LoginForm",componentId:"sc-1kgbnvs-1"})(["",""],{}),h.b.h1.withConfig({displayName:"styles__Title",componentId:"sc-1kgbnvs-2"})(["",""],{fontSize:"24px",fontWeight:"700","--tw-text-opacity":"1",color:"rgba(13, 2, 41, var(--tw-text-opacity))",textAlign:"center",marginBottom:"20px","@media (min-width: 600px)":{fontSize:"26px",marginBottom:"40px"}})),N=h.b.div.withConfig({displayName:"styles__AuthenTication",componentId:"sc-1kgbnvs-3"})(["",""],{"--tw-text-opacity":"1",color:"rgba(13, 2, 41, var(--tw-text-opacity))",marginBottom:"20px","@media (min-width: 600px)":{marginBottom:"40px"}}),_=(Object(h.b)(j.a).withConfig({displayName:"styles__Icon",componentId:"sc-1kgbnvs-4"})(["",""],{width:"20px",height:"20px",marginRight:"10px","@media (min-width: 600px)":{width:"25px",height:"25px"}}),Object(h.b)(l.a).withConfig({displayName:"styles__Form",componentId:"sc-1kgbnvs-5"})(["",""],{display:"grid",gap:"10px"})),k=(h.b.p.withConfig({displayName:"styles__SocialLogin",componentId:"sc-1kgbnvs-6"})(["",""],{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",paddingTop:"10px",paddingBottom:"10px",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgba(224, 224, 224, var(--tw-border-opacity))",marginBottom:"10px",userSelect:"none",cursor:"pointer",":hover":{"--tw-bg-opacity":"0.2",backgroundColor:"rgba(224, 224, 224, var(--tw-bg-opacity))"},"@media (min-width: 600px)":{fontSize:"16px"}}),h.b.p.withConfig({displayName:"styles__Or",componentId:"sc-1kgbnvs-7"})(["",""],{marginTop:"20px",marginBottom:"20px",fontSize:"14px",fontWeight:"500",textAlign:"center"}),h.b.div.withConfig({displayName:"styles__Text",componentId:"sc-1kgbnvs-8"})(["",""],{fontSize:"14px",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(13, 2, 41, var(--tw-text-opacity))",textAlign:"center",marginBottom:"10px"})),C=Object(h.b)(O.a).withConfig({displayName:"styles__Navigation",componentId:"sc-1kgbnvs-9"})(["",""],{display:"inline-block",fontWeight:"600","--tw-text-opacity":"1",color:"rgba(234, 78, 27, var(--tw-text-opacity))",cursor:"pointer"}),I=h.b.a.withConfig({displayName:"styles__EmployerLogin",componentId:"sc-1kgbnvs-10"})(["",""],{display:"inline-block",fontWeight:"600","--tw-text-opacity":"1",color:"rgba(234, 78, 27, var(--tw-text-opacity))",cursor:"pointer"}),P=Object(h.b)(y.a).withConfig({displayName:"styles__Button",componentId:"sc-1kgbnvs-11"})(["",""],{width:"100%",marginTop:"35px"});function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach((function(n){Object(b.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var T=function(e){var n=e.formik,t=e.errorMessage,i=e.loading,a=Object(o.c)(["authen"]).t;return Object(r.jsxs)(x,{children:[Object(r.jsx)(w,{children:a("register.form-title")}),Object(r.jsxs)(N,{children:[Object(r.jsxs)(_,{children:[Object(r.jsx)(m.a,S(S({onKeyPress:f.b,label:a("register.phone-number"),type:"tel",required:!0,placeholder:a("register.enter-phone-number")},n.getFieldProps("phoneNumber")),n.getFieldMeta("phoneNumber"))),Object(r.jsx)(m.a,S(S({label:a("register.email-address"),type:"email",required:!0,placeholder:a("register.enter-email-address")},n.getFieldProps("email")),n.getFieldMeta("email"))),Object(r.jsx)(m.a,S(S({label:a("register.password"),placeholder:a("register.enter-password"),required:!0,type:"password"},n.getFieldProps("password")),n.getFieldMeta("password"))),Object(r.jsx)(P,{loading:i,primary:!0,type:"submit",children:a("register.register")})]}),t&&Object(r.jsx)(g.a,{text:t})]}),Object(r.jsxs)(k,{children:[a("register.already-have-account"),Object(r.jsx)(C,{routeName:v.PATH.LOGIN,children:a("register.login")})]}),Object(r.jsxs)(k,{children:[a("register.are-you-recruiter"),Object(r.jsx)(I,{href:"https://employer.tuyendungvn.com/dang-nhap",target:"_blank",children:a("register.login-for-recruiters")})]})]})},A=t("4Ki6"),U=t("Ll6x"),M=t("3yXT"),q=t("Aw+l"),R=t("CFwT"),B=h.b.div.withConfig({displayName:"styles__RegisterContainer",componentId:"sc-13i1bwc-0"})(["",""],{display:"flex",flexDirection:"column",justifyContent:"center"}),D=(h.b.div.withConfig({displayName:"styles__CaptchaWrapper",componentId:"sc-13i1bwc-1"})(["",""],{}),t("q465")),F=t("W6d4"),H=function(){var e=Object(o.c)(["authen"]).t,n=Object(d.b)(),t=Object(q.a)(),a=Object(i.useState)("PHONE_NUMBER"),c=a[0],b=a[1],m=Object(i.useState)(""),g=m[0],f=m[1],h=Object(i.useState)([]),j=h[0],O=h[1],y=Object(i.useState)(!1),x=y[0],w=y[1],N=Object(d.c)((function(e){return e.actions})).actionSuccess;Object(i.useEffect)((function(){C()}),[]),Object(i.useEffect)((function(){N&&(n(Object(F.b)()),Object(R.b)({type:"success",title:e("register.create-successful")}),t(v.PATH.LOGIN))}),[N]);var _=p.b({phoneNumber:p.c().required(e("register.require-phone-number")).matches(U.c,e("register.phone-not-valid")).max(10,e("register.phone-not-valid")),email:p.c().required(e("register.require-email")).matches(U.a,e("register.email-not-valid")),password:p.c().required(e("login.require-password"))}),k=p.b({otp:p.c().required()}),C=function(){var e=Object(u.a)(s.a.mark((function e(){var n,t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(D.b)();case 3:n=e.sent,t=(null===n||void 0===n?void 0:n.data)||{},r=t.getAllUserHasPermissions,O(null===r||void 0===r?void 0:r.results),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),O([]),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),I=function(e){var t=e.phoneNumber,r={phoneNumber:"+84".concat(t.slice(1,t.length))};n(Object(M.j)(r))},P=function(){var e=Object(u.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(!0);try{r={input:{permission:"CANDIDATE",phoneNumber:null===t||void 0===t?void 0:t.phoneNumber,password:null===t||void 0===t?void 0:t.password,email:null===t||void 0===t?void 0:t.email}},n(Object(M.g)(r)),f(""),w(!1),b("OTP")}catch(i){console.error(i),w(!1),f(null===i||void 0===i?void 0:i.message)}case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(s.a.mark((function e(r){var i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(!0);try{i={input:{otpCode:null===r||void 0===r?void 0:r.otp,phoneNumber:null===r||void 0===r?void 0:r.phoneNumber,permission:"CANDIDATE"}},n(Object(M.n)(i)),eventManager.addListener("verifyOtpSuccess",(function(){t(v.PATH.LOGIN)}))}catch(o){f(o.message),console.error(o),w(!1)}case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(r.jsx)(B,{children:Object(r.jsx)(l.b,{initialValues:{phoneNumber:"",email:"",password:"",otp:""},validationSchema:"PHONE_NUMBER"===c?_:k,onSubmit:function(t){if("PHONE_NUMBER"===c){var r=null===j||void 0===j?void 0:j.map((function(e){return null===e||void 0===e?void 0:e.phoneNumber})),i=null===j||void 0===j?void 0:j.map((function(e){return null===e||void 0===e?void 0:e.email}));if(t.phoneNumber)if(null===r||void 0===r?void 0:r.includes(t.phoneNumber))return void n(Object(R.b)({type:"error",message:e("register.exist-phone-number"),title:e("register.have-error")}));if(t.email)if(i.includes(t.email))return void n(Object(R.b)({type:"error",message:e("register.exist-email"),title:e("register.have-error")}));P(t)}"OTP"===c&&E(t)},children:function(n){return"PHONE_NUMBER"===c?Object(r.jsx)(T,{loading:x,formik:n,errorMessage:g}):Object(r.jsx)(A.a,{title:e("register.form-title"),loading:x,formik:n,errorMessage:g,onResendOtp:I,onClose:function(){b("PHONE_NUMBER")}})}})})},z=t("tSya"),L=t("rQmk"),W=!0;n.default=function(){var e=Object(o.c)(["authen"]).t;return Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(z.a,{title:e("register.page-title"),routeName:v.PATH.REGISTER}),Object(r.jsx)(a.a,{children:Object(r.jsx)(L.a,{children:Object(r.jsx)(H,{})})})]})}},ClI5:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return t("5Qn7")}])},q465:function(e,n,t){"use strict";t.d(n,"c",(function(){return m})),t.d(n,"b",(function(){return f})),t.d(n,"a",(function(){return h})),t.d(n,"d",(function(){return y}));var r=t("vJKn"),i=t.n(r),o=t("rg98"),a=t("jT3O"),c=t("UYTu"),s=t("p2dX");function u(){var e=Object(a.a)(["\n  query {\n    checkProfileUserExist\n  }\n"]);return u=function(){return e},e}function p(){var e=Object(a.a)(['\nquery\n  {\n    getAllUserHasPermissions(permissions:["ADMIN","EMPLOYER","CANDIDATE","MANAGER"], page: 0, size: 9999)\n    {\n      totalCount\n      results{\n        ',"\n     }\n     \n    }\n  }\n"]);return p=function(){return e},e}function l(){var e=Object(a.a)(["\n  query($id: String!) {\n    getUserById(id: $id) {\n      ","\n    }\n  }\n"]);return l=function(){return e},e}var d="\n    _id\n      code\n      title\n      history\n      identityCard\n      province {\n        _id\n        name\n        code\n      }\n      clientId\n      provider\n      birthday\n      gender\n      urlAvt {\n        default\n        small\n        medium\n      }\n      firstName\n      lastName\n      displayName\n      company {\n        name\n        code\n      }\n      username\n      email\n      phoneNumber\n      appliedRecruitment {\n        recruitment {\n          _id\n          slug\n          name\n          level {\n            name\n          }\n          location {\n            province {\n              name\n            }\n          }\n          createdAt\n        }\n        date\n      }\n      district {\n        name\n        code\n        _id\n      }\n      ward {\n        name\n        code\n        _id\n      }\n      street {\n        name\n        code\n        _id\n      }\n      point\n      postedJob\n      subscribedCompany {\n        name\n      }\n      seenCompany {\n        name\n      }\n      seenRecruitment {\n        name\n      }\n      savedRecruitment {\n        _id\n        slug\n        name\n        level {\n          name\n        }\n        location {\n          province {\n            name\n          }\n        }\n        createdAt\n      }\n      slug\n      keywords\n      language\n      enabled\n      career {\n        _id\n        name\n      }\n      isSeekingJob\n",b=Object(c.a)(l(),d),m=function(){var e=Object(o.a)(i.a.mark((function e(n){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)(b,n);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=Object(c.a)(p(),d),f=function(){var e=Object(o.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)(g,null);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=Object(c.a)(u()),h=function(){var e=Object(o.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)(v,null);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function j(){var e=Object(a.a)(["\n  mutation UpdateUserProfileMutation($updateUserInput: UpdateUserInput!) {\n    updateUserProfile(updateUserInput: $updateUserInput) {\n      _id\n      displayName\n    }\n  }\n"]);return j=function(){return e},e}var O=Object(c.a)(j()),y=function(){var e=Object(o.a)(i.a.mark((function e(n){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)(O,n);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}},[["ClI5",0,2,6,1,3,4,5,7,8,12,13,15]]]);