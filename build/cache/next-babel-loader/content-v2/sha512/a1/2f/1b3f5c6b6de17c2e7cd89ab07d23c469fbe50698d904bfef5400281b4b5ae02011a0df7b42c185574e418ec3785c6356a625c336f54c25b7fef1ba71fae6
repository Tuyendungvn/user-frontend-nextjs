{"ast":null,"code":"import _classCallCheck from \"/data/source/tuyendungvn-user-frontend-nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/data/source/tuyendungvn-user-frontend-nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"/data/source/tuyendungvn-user-frontend-nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nexport var EventManager = /*#__PURE__*/function () {\n  function EventManager() {\n    _classCallCheck(this, EventManager);\n\n    _defineProperty(this, \"listeners\", {});\n  }\n\n  _createClass(EventManager, [{\n    key: \"addListener\",\n    value: function addListener(name, fn) {\n      (this.listeners[name] = this.listeners[name] || new Set()).add(fn);\n      return this;\n    }\n  }, {\n    key: \"fire\",\n    value: function fire(name, payload) {\n      var listCallbacks = this.listeners[name];\n\n      if (listCallbacks !== undefined) {\n        var data = {},\n            evt;\n\n        for (var _i = 0, _Array$from = Array.from(listCallbacks); _i < _Array$from.length; _i++) {\n          var cb = _Array$from[_i];\n          evt = this.EventArg(name, data);\n          cb(payload);\n          data = evt.data;\n\n          if (evt.removed) {\n            listCallbacks[\"delete\"](cb);\n          }\n\n          if (evt.cancelled) {\n            break;\n          }\n        }\n      }\n\n      return this;\n    }\n  }, {\n    key: \"EventArg\",\n    value: function EventArg(name, data) {\n      var cancelled = false;\n      var removed = false;\n      return {\n        name: name,\n        data: data,\n        cancelled: cancelled,\n        removed: removed,\n        cancel: function cancel() {\n          this.cancelled = true;\n        },\n        remove: function remove() {\n          this.removed = true;\n        }\n      };\n    }\n  }]);\n\n  return EventManager;\n}();\nglobalThis.eventManager = new EventManager();","map":null,"metadata":{},"sourceType":"module"}