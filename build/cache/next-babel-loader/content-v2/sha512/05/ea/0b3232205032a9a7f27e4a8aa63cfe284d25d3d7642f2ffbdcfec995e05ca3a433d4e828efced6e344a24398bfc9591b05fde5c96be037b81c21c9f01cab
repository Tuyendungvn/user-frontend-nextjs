{"ast":null,"code":"import { useEffect, useRef, useState } from \"react\";\n/**\n * @description Handle element state when click outside\n * @usage\n *   Put elementRef in ref of div element you want to handle click outside\n *\n *   const {elementRef,  isVisible, setElementVisible} = useClickOutSide(initState);\n *\n *   <div ref={elementRef}>\n *     ... your code here ...\n *   </div>\n *\n *   Use isVisible, setElementVisible instead of useState\n * */\n\nexport const useClickOutSide = initState => {\n  const {\n    0: isVisible,\n    1: setElementVisible\n  } = useState(initState);\n  const elementRef = useRef(null);\n\n  const handleKeyDropdown = e => {\n    if (e.key === \"Escape\") {\n      setElementVisible(false);\n    }\n  };\n\n  const handleClickOutSide = e => {\n    if (elementRef.current && !elementRef.current.contains(e.target)) {\n      setElementVisible(false);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleKeyDropdown);\n    document.addEventListener(\"click\", handleClickOutSide);\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDropdown);\n      document.removeEventListener(\"click\", handleClickOutSide);\n    };\n  }, [isVisible]);\n  return {\n    elementRef,\n    isVisible,\n    setElementVisible\n  };\n};","map":null,"metadata":{},"sourceType":"module"}