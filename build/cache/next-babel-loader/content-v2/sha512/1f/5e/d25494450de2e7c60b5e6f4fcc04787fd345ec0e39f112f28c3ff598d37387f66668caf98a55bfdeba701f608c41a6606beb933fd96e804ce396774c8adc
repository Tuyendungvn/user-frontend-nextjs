{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment } from \"react\";\nimport { Transition } from \"@headlessui/react\";\nimport { useTranslation } from \"next-i18next\";\nimport { useClickOutSide } from \"@common/hooks/useClickOutSide\";\nimport { PATH } from \"@routes\";\nimport useAuth from \"@common/hooks/useAuth\";\nimport { UserInfoContainer, UserButton, AvatarWrapper, Avatar, UserName, Icon, Slider } from \"./styles\";\nimport { useRedirect } from \"@common/hooks/useRedirect\";\nvar skeletonAvatar = \"/img/skeleton/avatar.jpg\";\n\nvar UserInfo = function UserInfo(props) {\n  var _userInfo$urlAvt, _userInfo$urlAvt2;\n\n  var _useTranslation = useTranslation([\"common\"]),\n      t = _useTranslation.t;\n\n  var _useAuth = useAuth(),\n      isAuth = _useAuth.isAuth,\n      accountInfo = _useAuth.accountInfo,\n      logout = _useAuth.logout;\n\n  var userInfo = (accountInfo === null || accountInfo === void 0 ? void 0 : accountInfo.userInfo) || {};\n\n  var _useClickOutSide = useClickOutSide(false),\n      elementRef = _useClickOutSide.elementRef,\n      isVisible = _useClickOutSide.isVisible,\n      setElementVisible = _useClickOutSide.setElementVisible;\n\n  var redirect = useRedirect();\n\n  var handleLogout = function handleLogout() {\n    logout();\n  };\n\n  var menuItems = [{\n    icon: \"common/menu/user\",\n    text: t(\"header.personal-information\"),\n    path: PATH.JOB_MANAGEMENT_PERSONAL_INFO\n  }, {\n    icon: \"common/menu/request\",\n    text: t(\"header.request-evaluted\"),\n    path: PATH.JOB_MANAGEMENT_EVALUATED\n  }, {\n    icon: \"common/menu/job\",\n    text: t(\"header.applied-job\"),\n    path: PATH.JOB_MANAGEMENT_MYJOB\n  }, {\n    icon: \"common/menu/employer-review\",\n    text: t(\"header.employer-review\"),\n    path: PATH.JOB_MANAGEMENT_EMPLOYER_VIEW_PROFILE\n  }, {\n    icon: \"common/menu/edit\",\n    text: t(\"header.change-password\"),\n    path: PATH.JOB_MANAGEMENT_CHANGE_PASSWORD\n  }];\n  var userName = userInfo !== null && userInfo !== void 0 && userInfo.displayName ? userInfo === null || userInfo === void 0 ? void 0 : userInfo.displayName : \"User \".concat(userInfo === null || userInfo === void 0 ? void 0 : userInfo.code);\n  var userAvatar = (userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$urlAvt = userInfo.urlAvt) === null || _userInfo$urlAvt === void 0 ? void 0 : _userInfo$urlAvt.small) || (userInfo === null || userInfo === void 0 ? void 0 : (_userInfo$urlAvt2 = userInfo.urlAvt) === null || _userInfo$urlAvt2 === void 0 ? void 0 : _userInfo$urlAvt2[\"default\"]) || skeletonAvatar;\n\n  var handleRedirect = function handleRedirect(path) {\n    redirect(path);\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(UserInfoContainer, {\n      ref: elementRef,\n      children: /*#__PURE__*/_jsxs(UserButton, {\n        onClick: function onClick() {\n          return setElementVisible(!isVisible);\n        },\n        children: [/*#__PURE__*/_jsx(AvatarWrapper, {\n          children: /*#__PURE__*/_jsx(Avatar, {\n            src: userAvatar,\n            alt: userInfo === null || userInfo === void 0 ? void 0 : userInfo.displayName,\n            width: 36,\n            height: 36\n          })\n        }), /*#__PURE__*/_jsx(UserName, {\n          children: userInfo === null || userInfo === void 0 ? void 0 : userInfo.displayName\n        }), /*#__PURE__*/_jsx(Icon, {\n          active: isVisible,\n          name: \"common/menu/arrow-down\",\n          width: 24,\n          height: 24\n        })]\n      })\n    }), /*#__PURE__*/_jsx(Transition, {\n      show: isVisible,\n      as: Fragment,\n      enter: \"transition duration-300 ease-out\",\n      enterFrom: \"transform translate-x-full\",\n      enterTo: \"transform translate-x-0\",\n      leave: \"transition duration-300 ease-in\",\n      leaveFrom: \"transform translate-x-0\",\n      leaveTo: \"transform translate-x-full\",\n      children: /*#__PURE__*/_jsxs(Slider.Container, {\n        children: [/*#__PURE__*/_jsxs(Slider.User, {\n          children: [/*#__PURE__*/_jsx(Slider.AvatarWrapper, {\n            children: /*#__PURE__*/_jsx(Slider.Avatar, {\n              width: 32,\n              height: 32,\n              src: userAvatar\n            })\n          }), /*#__PURE__*/_jsxs(Slider.InfoWrapper, {\n            children: [/*#__PURE__*/_jsx(Slider.Name, {\n              children: userName\n            }), /*#__PURE__*/_jsx(Slider.Email, {\n              children: userInfo === null || userInfo === void 0 ? void 0 : userInfo.email\n            })]\n          }), /*#__PURE__*/_jsx(Slider.Icon, {\n            onClick: function onClick() {\n              return setElementVisible(!isVisible);\n            },\n            name: \"common/menu/mobile-close\",\n            width: 24,\n            height: 24\n          })]\n        }), isAuth && menuItems.map(function (item, index) {\n          return /*#__PURE__*/_jsxs(Slider.Link, {\n            onClick: function onClick() {\n              return handleRedirect(item.path);\n            },\n            children: [/*#__PURE__*/_jsx(Slider.Icon, {\n              name: item.icon,\n              width: 24,\n              height: 24\n            }), item.text]\n          }, \"slider-item-\".concat(index));\n        }), /*#__PURE__*/_jsxs(Slider.Logout, {\n          onClick: handleLogout,\n          children: [/*#__PURE__*/_jsx(Slider.Icon, {\n            name: \"common/menu/logout\",\n            width: 24,\n            height: 24\n          }), t(\"header.logout\")]\n        })]\n      })\n    })]\n  });\n};\n\nexport default UserInfo;","map":null,"metadata":{},"sourceType":"module"}