{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Tab } from \"@headlessui/react\";\nimport React, { Fragment, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport JobApplied from \"./components/JobApplied\";\nimport JobSaved from \"./components/JobSaved\";\nimport RelatedJob from \"@components/RelatedJob\";\nimport { getUserCookies } from \"@common/utils/auth\";\nimport { Container, TabItem, Title, WrapperBG } from \"./style\";\nimport { getUserProfile } from \"@redux/actions/user\";\nimport { getAllRecruitment, getBestRecruitment } from \"@redux/actions/recruitment\";\nimport { resetAction } from \"@redux/actions/common\";\n\nvar MyJob = function MyJob() {\n  var _useTranslation = useTranslation([\"job-management\"]),\n      t = _useTranslation.t;\n\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.recruitment;\n  }),\n      _useSelector$bestRecr = _useSelector.bestRecruitment.results,\n      bestRecruitment = _useSelector$bestRecr === void 0 ? [] : _useSelector$bestRecr;\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.user;\n  }),\n      user = _useSelector2.user;\n\n  var _useSelector3 = useSelector(function (state) {\n    return state.actions;\n  }),\n      actionSuccess = _useSelector3.actionSuccess;\n\n  var appliedRecruitment = user.appliedRecruitment,\n      savedRecruitment = user.savedRecruitment;\n  useEffect(function () {\n    getUserProfileAPI();\n    getBestRecruitmentAPI();\n    geAllRecruitmentAPI();\n  }, []);\n  useEffect(function () {\n    if (actionSuccess) {\n      dispatch(resetAction());\n      getUserProfileAPI();\n    }\n  }, [actionSuccess]);\n\n  var getUserProfileAPI = function getUserProfileAPI() {\n    var _getUserCookies, _getUserCookies$userI;\n\n    var payload = {\n      id: (_getUserCookies = getUserCookies()) === null || _getUserCookies === void 0 ? void 0 : (_getUserCookies$userI = _getUserCookies.userInfo) === null || _getUserCookies$userI === void 0 ? void 0 : _getUserCookies$userI._id\n    };\n    dispatch(getUserProfile(payload));\n  };\n\n  var geAllRecruitmentAPI = function geAllRecruitmentAPI() {\n    dispatch(getAllRecruitment({}));\n  };\n\n  var getBestRecruitmentAPI = function getBestRecruitmentAPI() {\n    var payload = {\n      size: 6\n    };\n    dispatch(getBestRecruitment(payload));\n  };\n\n  var categories = [{\n    name: t(\"saved-jobs\"),\n    components: /*#__PURE__*/_jsx(JobSaved, {\n      savedRecruitment: savedRecruitment\n    })\n  }, {\n    name: t(\"applied-job\"),\n    components: /*#__PURE__*/_jsx(JobApplied, {\n      appliedRecruitment: appliedRecruitment\n    })\n  }];\n  return /*#__PURE__*/_jsxs(Container, {\n    children: [/*#__PURE__*/_jsxs(WrapperBG, {\n      children: [/*#__PURE__*/_jsx(Title, {\n        children: t(\"my-job\")\n      }), /*#__PURE__*/_jsxs(Tab.Group, {\n        children: [/*#__PURE__*/_jsx(Tab.List, {\n          className: \"flex items-center w-full text-black\",\n          children: categories === null || categories === void 0 ? void 0 : categories.map(function (category, index) {\n            return /*#__PURE__*/_jsx(Tab, {\n              as: Fragment,\n              children: function children(_ref) {\n                var selected = _ref.selected;\n                return /*#__PURE__*/_jsx(TabItem, {\n                  selected: selected,\n                  children: /*#__PURE__*/_jsx(\"div\", {\n                    children: category.name\n                  })\n                });\n              }\n            }, index);\n          })\n        }), /*#__PURE__*/_jsx(Tab.Panels, {\n          children: categories === null || categories === void 0 ? void 0 : categories.map(function (category, index) {\n            return /*#__PURE__*/_jsx(Tab.Panel, {\n              children: category.components\n            }, index);\n          })\n        })]\n      })]\n    }), /*#__PURE__*/_jsx(RelatedJob, {\n      bestRecruitment: bestRecruitment,\n      title: t(\"favorite-job\")\n    })]\n  });\n};\n\nexport default MyJob;","map":null,"metadata":{},"sourceType":"module"}