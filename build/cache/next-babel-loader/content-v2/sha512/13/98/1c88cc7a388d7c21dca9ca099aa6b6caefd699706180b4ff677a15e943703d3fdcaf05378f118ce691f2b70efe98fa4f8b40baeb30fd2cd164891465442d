{"ast":null,"code":"import { useCallback, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { PATH } from \"@routes\";\nimport { useRedirect } from \"./useRedirect\";\nimport { getLoggedInAccount, isAuthenticated } from \"@common/utils/auth\";\nimport { removeCurrentUser, setAccountInfo, setIsAuth } from \"@redux/actions/auth\";\n\nconst useAuth = () => {\n  const dispatch = useDispatch();\n  const redirect = useRedirect();\n  const {\n    isAuth,\n    accountInfo\n  } = useSelector(state => state.auth);\n  useEffect(() => {\n    // to make sure data won't be lacked\n    dispatch(setIsAuth(isAuthenticated()));\n    dispatch(setAccountInfo(getLoggedInAccount()));\n  }, []);\n  const logout = useCallback(() => {\n    dispatch(removeCurrentUser());\n    redirect(PATH.LOGIN, {}, {}, {\n      useRefresh: true\n    });\n  }, []);\n  return {\n    isAuth,\n    accountInfo,\n    logout\n  };\n};\n\nexport default useAuth;","map":null,"metadata":{},"sourceType":"module"}