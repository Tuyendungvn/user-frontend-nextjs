{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _toConsumableArray from \"/data/source/tuyendungvn-user-frontend-nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { useTranslation } from \"next-i18next\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport useAuth from \"@common/hooks/useAuth\";\nimport { setOpenNotification } from \"@redux/actions/common\";\nimport { PATH } from \"@routes\";\nimport Notify from \"./Notify\";\nimport { ContentContainer, Header, Icon, CloseIcon, Title, Login, Empty, NotifyContainer } from \"./styles\";\nimport { useEffect, useState } from \"react\";\n\nvar Content = function Content() {\n  var _useAuth = useAuth(),\n      isAuth = _useAuth.isAuth;\n\n  var _useTranslation = useTranslation([\"common\"]),\n      t = _useTranslation.t;\n\n  var _useSelector = useSelector(function (state) {\n    return state.notifications;\n  }),\n      _useSelector$notifica = _useSelector.notifications,\n      _useSelector$notifica2 = _useSelector$notifica.loading,\n      loading = _useSelector$notifica2 === void 0 ? true : _useSelector$notifica2,\n      _useSelector$notifica3 = _useSelector$notifica.getNotifyByUser,\n      result = _useSelector$notifica3 === void 0 ? [] : _useSelector$notifica3,\n      _useSelector$notifica4 = _useSelector.notificationsSettingByUser,\n      _useSelector$notifica5 = _useSelector$notifica4.loading,\n      loadingSetting = _useSelector$notifica5 === void 0 ? false : _useSelector$notifica5,\n      _useSelector$notifica6 = _useSelector$notifica4.results,\n      notifySetting = _useSelector$notifica6 === void 0 ? [] : _useSelector$notifica6;\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.actions;\n  }),\n      isOpenNotification = _useSelector2.isOpenNotification;\n\n  var dispatch = useDispatch();\n\n  var _useState = useState([]),\n      allNotify = _useState[0],\n      setAllNotify = _useState[1];\n\n  useEffect(function () {\n    if (notifySetting.length > 0 && result.length > 0) {\n      var notifyList = [];\n      notifySetting === null || notifySetting === void 0 ? void 0 : notifySetting.map(function (setting) {\n        var notify = {\n          company: {\n            name: t(\"header.admin\")\n          },\n          createdAt: setting.createdAt,\n          name: setting.name,\n          description: setting.description\n        };\n        notifyList.push(notify);\n      });\n      setAllNotify(function (state) {\n        return [].concat(_toConsumableArray(result), notifyList);\n      });\n    } else if (result.length > 0 && (notifySetting === null || notifySetting === void 0 ? void 0 : notifySetting.length) === 0) {\n      setAllNotify(result);\n    } else {\n      setAllNotify(notifySetting);\n    }\n  }, [result, notifySetting]);\n\n  var handleClose = function handleClose() {\n    dispatch(setOpenNotification(false));\n  };\n\n  var arrReverse = _toConsumableArray(allNotify);\n\n  arrReverse === null || arrReverse === void 0 ? void 0 : arrReverse.sort(function (value1, value2) {\n    var date1 = new Date(value1.createdAt);\n    var date2 = new Date(value2.createdAt);\n    return date2 - date1;\n  });\n  return /*#__PURE__*/_jsxs(ContentContainer, {\n    className: \"transform \".concat(isOpenNotification ? \"translate-x-0\" : \"translate-x-full\"),\n    children: [/*#__PURE__*/_jsxs(Header, {\n      children: [/*#__PURE__*/_jsx(Icon, {\n        name: \"common/menu/bell-icon\",\n        width: 80,\n        height: 80\n      }), /*#__PURE__*/_jsx(Title, {\n        children: t(\"header.career-notification\")\n      }), /*#__PURE__*/_jsx(CloseIcon, {\n        onClick: handleClose,\n        name: \"common/close\",\n        width: 24,\n        height: 24\n      })]\n    }), isAuth ? /*#__PURE__*/_jsx(NotifyContainer, {\n      children: !loading && !loadingSetting && (arrReverse === null || arrReverse === void 0 ? void 0 : arrReverse.length) > 0 ? arrReverse === null || arrReverse === void 0 ? void 0 : arrReverse.map(function (notify) {\n        return /*#__PURE__*/_jsx(Notify, {\n          notification: notify\n        });\n      }) : /*#__PURE__*/_jsx(Empty, {\n        children: t(\"header.empty-notify\")\n      })\n    }) : /*#__PURE__*/_jsxs(Login.Wrapper, {\n      children: [/*#__PURE__*/_jsx(Login.Title, {\n        children: t(\"header.login-notification\")\n      }), /*#__PURE__*/_jsx(Login.Button, {\n        routeName: PATH.LOGIN,\n        className: \"transform hover:scale-105\",\n        children: t(\"header.login\")\n      })]\n    })]\n  });\n};\n\nexport default Content;","map":null,"metadata":{},"sourceType":"module"}